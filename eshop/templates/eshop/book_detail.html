{% extends 'base.html' %}

{% block content %}
<div class="row my-3">
    <div class="col-12 text-center">
        <a href="{% url 'book_update' book.id %}" class="btn btn-success mr-3">Upravit knihu</a>
        <a href="{% url 'book_delete' book.id %}" class="btn btn-success">Smazat knihu</a>
    </div>
</div>

<div class="row">
    <div class="col-12 col-md-4 d-flex flex-column border ">
        {% if book.images.all|length > 0 %}
            <div class="flex-fill mb-2">
                <img src="{{ book.images.all.0.url }}" class="img-fluid w-100 h-100" style="object-fit: cover;" alt="Hlavní obrázek">
            </div>
            <div class="d-flex justify-content-between flex-fill">
               {% for img in book.images.all|slice:"1:4" %}
                  <img src="{{ img.url }}" class="img-fluid" style="width: 32%; height: 100%; object-fit: cover;" alt="Menší obrázek {{ forloop.counter }}">
               {% endfor %}
            </div>
        {% else %}
            <p>Žádné obrázky nejsou k dispozici.</p>
        {% endif %}
    </div>

    <div class="col-12 col-md-8 d-flex flex-column border p-4">
        <div class="flex-fill ">
            <h4>Název knihy</h4>
            <p>{{ book.name }}</p>
        </div>
        <div>
            <h4>Popis</h4>
            <p>{{ book.description }}</p>
        </div>
        <div>
            <p><h5>Na skladě:</h5>{{ book.stock_quantity }}</p>
        </div>
        <div>
            <h4>Cena</h4>
            <p>{{ book.price }}</p>
        </div>
    </div>
</div>



{% endblock %}}